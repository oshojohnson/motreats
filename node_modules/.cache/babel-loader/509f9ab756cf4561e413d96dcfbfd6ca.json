{"ast":null,"code":"import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\motreats\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\motreats\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\motreats\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\motreats\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\motreats\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{FormErrors}from'./FormErrors';import Swal from'sweetalert2';var OrderForm=/*#__PURE__*/function(_Component){_inherits(OrderForm,_Component);var _super=_createSuper(OrderForm);function OrderForm(props){var _this;_classCallCheck(this,OrderForm);_this=_super.call(this);_this.onChange=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value),function(){_this.validateField(name,value);});var _this$state=_this.state,id=_this$state.id,fullname=_this$state.fullname,phone=_this$state.phone,itemnum=_this$state.itemnum,email=_this$state.email;};_this.handleSubmit=function(e){e.preventDefault();var submitOrder=1;var _this$state2=_this.state,submitresponse=_this$state2.submitresponse,id=_this$state2.id,fullname=_this$state2.fullname,phone=_this$state2.phone,itemnum=_this$state2.itemnum,email=_this$state2.email;var data={id:id,fullname:fullname,phone:phone,itemnum:itemnum,email:email,submitOrder:submitOrder};var url=\"https://www.motreats.ng/api/process.php\";axios.post(url,{data:data}).then(function(result){if(result.data.response==1){Swal.fire(\"Success\",\"Order submitted successfully\",\"success\");}else{Swal.fire(\"Opps!\",\"Fail to send\",\"error\");}});// Submit form details to login endpoint etc.\n// ...\n};var _id=props.id;_this.state={id:_id,fullname:'',phone:'',itemnum:'',submitresponse:'',email:'',formErrors:{email:'',phone:'',itemnum:'',fullname:''},nameError:false,phoneError:false,itemnumError:false,emailError:false,formValid:false};return _this;}_createClass(OrderForm,[{key:\"validateField\",value:function validateField(fieldName,value){var fieldValidationErrors=this.state.formErrors;var emailValid=this.state.emailValid;var phoneValid=this.state.phoneValid;switch(fieldName){case'email':emailValid=value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);fieldValidationErrors.email=emailValid?'':' is invalid';break;case'phone':if(value.length==11&&!isNaN(value)){phoneValid=true;}else{phoneValid=false;}fieldValidationErrors.phone=phoneValid?'':' is invalid';break;default:break;}this.setState({formErrors:fieldValidationErrors,emailValid:emailValid,phoneValid:phoneValid},this.validateForm);}},{key:\"validateForm\",value:function validateForm(){this.setState({formValid:this.state.emailValid&&this.state.phoneValid});}},{key:\"render\",value:function render(){var _this$state3=this.state,id=_this$state3.id,fullname=_this$state3.fullname,phone=_this$state3.phone,itemnum=_this$state3.itemnum,email=_this$state3.email;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"formerr\"},/*#__PURE__*/React.createElement(FormErrors,{formErrors:this.state.formErrors})),/*#__PURE__*/React.createElement(\"p\",null,\"Please fill the order form below\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:\"disabled\",placeholder:\"Product ID\",value:id,className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Full Name\",className:\"form-control\",name:\"fullname\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"User Email\",className:\"form-control\",name:\"email\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"User Phone\",className:\"form-control\",name:\"phone\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",placeholder:\"Number of Item\",className:\"form-control\",name:\"itemnum\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"myButton btn btnhover\",disabled:!this.state.formValid},\"Submit Order\")),/*#__PURE__*/React.createElement(FormErrors,{formErrors:this.state.formErrors}));}}]);return OrderForm;}(Component);export default OrderForm;","map":{"version":3,"sources":["C:/xampp/htdocs/motreats/src/markup/Pages/OrderForm.js"],"names":["React","Component","axios","FormErrors","Swal","OrderForm","props","onChange","e","name","target","value","setState","validateField","state","id","fullname","phone","itemnum","email","handleSubmit","preventDefault","submitOrder","submitresponse","data","url","post","then","result","response","fire","formErrors","nameError","phoneError","itemnumError","emailError","formValid","fieldName","fieldValidationErrors","emailValid","phoneValid","match","length","isNaN","validateForm"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {FormErrors} from './FormErrors';\r\nimport Swal from 'sweetalert2';\r\n\r\nclass OrderForm extends Component{\r\n\r\n\tconstructor(props) {\r\n        super();\r\n        const {id}= props;\r\n        this.state = {\r\n        id:id,\r\n      \tfullname: '',\r\n      phone: '',\r\n      itemnum: '',\r\n      submitresponse: '',\r\n      email: '',\r\n      formErrors: {email: '', phone: '',itemnum:'',fullname:''},\r\n      nameError:false,\r\n      phoneError:false,\r\n      itemnumError:false,\r\n      emailError:false,\r\n      formValid:false\r\n        };\r\n         \r\n      }\r\n   onChange = (e) => {\r\n        const name = e.target.name;\r\n  \t\tconst value = e.target.value;\r\n  \t\tthis.setState({[name]: value}, \r\n                () => { this.validateField(name, value) });\r\n        const {id,fullname,phone,itemnum,email}=this.state;\r\n\r\n      }\r\n\r\n   \r\n  validateField(fieldName, value) {\r\n  let fieldValidationErrors = this.state.formErrors;\r\n  let emailValid = this.state.emailValid;\r\n  let phoneValid = this.state.phoneValid;\r\n\r\n  switch(fieldName) {\r\n    case 'email':\r\n      emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n      fieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n      break;\r\n    case 'phone':\r\n    \tif(value.length==11 && !isNaN(value)){\r\n    \t\tphoneValid=true;\r\n    \t}else{\r\n    \t\tphoneValid=false;\r\n    \t}\r\n      fieldValidationErrors.phone = phoneValid ? '': ' is invalid';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  this.setState({formErrors: fieldValidationErrors,\r\n                  emailValid: emailValid,\r\n                  phoneValid: phoneValid\r\n                }, this.validateForm);\r\n}\r\n\r\nvalidateForm() {\r\n  this.setState({formValid: this.state.emailValid && this.state.phoneValid});\r\n}\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const submitOrder=1;\r\n    const {submitresponse,id,fullname,phone,itemnum,email}=this.state;\r\n    const data = {id,fullname,phone,itemnum,email,submitOrder}\r\n    const url = \"https://www.motreats.ng/api/process.php\";\r\n    axios.post(url, { data})\r\n          .then((result) => {\r\n          \tif(result.data.response==1){\r\n          \t\tSwal.fire(\"Success\",\"Order submitted successfully\",\"success\");\r\n          \t}else{\r\n          \t\tSwal.fire(\"Opps!\",\"Fail to send\",\"error\");\r\n          \t}\r\n\r\n\r\n          });\r\n\r\n    // Submit form details to login endpoint etc.\r\n    // ...\r\n  };\r\n  render(){\r\n  \tconst {id,fullname,phone,itemnum,email}=this.state;\r\n  \t\treturn (\r\n  \t<>\r\n  \t<div className=\"formerr\">\r\n  \t\t\t<FormErrors formErrors={this.state.formErrors} />\r\n  \t</div>\r\n  \t<p>Please fill the order form below</p>\r\n  \t<form onSubmit={this.handleSubmit}>\r\n     <div className=\"form-group\">\r\n       \t\t<input type=\"text\" disabled=\"disabled\" placeholder=\"Product ID\" value={id}  className=\"form-control\"/>\r\n      </div>\r\n      <div className=\"form-group\">\r\n       \t\t<input type=\"text\" placeholder=\"Full Name\" className=\"form-control\" name=\"fullname\" onChange={this.onChange}/>\r\n       </div>\r\n       <div className=\"form-group\">\r\n       \t\t<input type=\"email\" placeholder=\"User Email\" className=\"form-control\" name=\"email\" onChange={this.onChange}/>\r\n       </div>\r\n       <div className=\"form-group\">\r\n       \t\t<input type=\"text\" placeholder=\"User Phone\"  className=\"form-control\" name=\"phone\" onChange={this.onChange}/>\r\n       </div>\r\n       <div className=\"form-group\">\r\n       \t\t<input type=\"number\" placeholder=\"Number of Item\"  className=\"form-control\" name=\"itemnum\" onChange={this.onChange}/>\r\n       \t</div>\r\n       \r\n       <button type=\"submit\" className=\"myButton btn btnhover\"  disabled={!this.state.formValid}>Submit Order</button>\r\n     </form>\r\n     <FormErrors formErrors={this.state.formErrors} />\r\n</>\r\n  \t);\r\n  }\r\n}\r\nexport default OrderForm;"]},"metadata":{},"sourceType":"module"}